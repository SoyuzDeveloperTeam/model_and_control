#pragma hdrstop
#include <vcl.h>
#include "arg_pks.h"
#include "main_header.h"
#include "argon/arg_header.h"
#include <DateUtils.hpp>
#pragma package(smart_init)
//---------------------------------------------------------------------------
//*/*/*/*/*/*/*/*/*/*/*/*/*/*/*//
//                             //
//     П Р О Г Р А М М А       //
//      К О Н Т Р О Л Я        //
//     С О С Т О Я Н И Й       //
//                             //
//*/*/*/*/*/*/*/*/*/*/*/*/*/*/*//

/////////////////////////////////
//   П О Д П Р О Г Р А М М А   //
// О Т П Р А В К И   Ч И С Л А //
//         В   И Р В И         //
//=============================//
//   Программа имитирует обмен //
//   между БЦВК и оператором   //
//   посредством ПРВИ. Данная  //
//   программа выводит сообще- //
//   ние на ИРВИ               //
/////////////////////////////////

void asti(AnsiString i[15]){
irvi_string += i[0];
irvi_string += i[1];
irvi_string += i[2];
irvi_string += i[3];
irvi_string += i[4];
irvi_string += i[5];
irvi_string += i[6];
irvi_string += i[7];
irvi_string += i[8];
irvi_string += i[9];
irvi_string += i[10];
irvi_string += i[11];
irvi_string += i[12];
irvi_string += i[13];
irvi_string += i[14];
}

//////////////////////////////////////////////////
//             П О Д П Р О Г Р А М М А          //
//               С Е Р В И С - С К Д            //
// №реж   3                                     //
// Подпрограмма запускается в момент ТСКД -:08: //
// Завякой на программу является 1 в cw_Zay[8]  //
// Программа посылает на ИРВИ строку,           //
// которой последовательно заполняются И.       //
// До Тскд - сервис показывает на ИРВИ величину //
// потребного импульса и время до СКД, а после  //
// показывает расчетное время до ГК и Vтек      //
//////////////////////////////////////////////////


void sskd (void) {
// временные переменные
AnsiString dv_ust, dv_tek, d_vrm;
AnsiString t_skd, t_gk;
AnsiString msg;  // строка с сообщением

t_skd=SecondsBetween(data_TSKD, OnboardModelTime); // Время до Тскд

//FormatFloat("000.00",dynamics.ypr);
//FormatString
msg = "               ";   // Задаем пустую строку (что бы длинна была 15 - поискать другие способы)
msg[0]="0"; // И1
msg[1]="0"; // И2
msg[2]="3"; // И3
msg[3]=" "; // И4
msg[4]="0"; // И5
msg[5]="0"; // И6
msg[6]="0"; // И7
msg[7]="0"; // И8
msg[8]="0"; // И9
msg[9]="0"; // И10
msg[10]="0"; // И11
msg[11]="0"; // И12
msg[12]="0"; // И13
msg[13]="0"; // И14
msg[14]="0"; // И15

asti(msg);
}